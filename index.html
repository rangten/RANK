
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Ranking de Anúncios (Top 50)</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .produto { border: 1px solid #ccc; border-radius: 5px; padding: 15px; margin: 10px 0; }
        .imagem { width: 100px; }
        input, button { padding: 10px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>Ranking de Anúncios (Top 50)</h1>
    <input type="text" id="busca" placeholder="Digite o nome do produto">
    <button onclick="buscar()">Buscar Ranking</button>
    <div id="resultado"></div>

    <script>
        async function buscar() {
            const termo = document.getElementById('busca').value;
            document.getElementById('resultado').innerHTML = 'Buscando ranking para: ' + termo;
            const res = await fetch(`https://rank-api-1.onrender.com/top50?query=${encodeURIComponent(termo)}`);
            const data = await res.json();

            if (!data || !data.resultado) return;

            const html = data.resultado.map((item, index) => `
                <div class="produto">
                    <p><strong>${index + 1}º - ${item.titulo}</strong></p>
                    <img class="imagem" src="${item.imagem}" alt="Imagem do produto ${index + 1}">
                    <p>Preço: ${item.preco} | Vendas: ${item.vendas}</p>
                    <p>Tipo: ${item.tipo} | Entrega: ${item.entrega}</p>
                    <p>Catálogo: ${item.catalogo} | Medalha: ${item.medalha}</p>
                    <p>Vendedor: ${item.vendedor || 'Indefinido'}</p>
                    <p>Criado em: ${item.data}</p>
                    <a href="${item.link}" target="_blank">Ver anúncio</a>
                </div>
            `).join('');

            document.getElementById('resultado').innerHTML = html;
        }
    </script>
</body>
</html>
